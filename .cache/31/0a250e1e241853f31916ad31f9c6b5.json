{"id":"../node_modules/rrule/dist/esm/parseoptions.js","dependencies":[{"name":"/home/arma7x/Desktop/New/kaios/greg/package.json","includedInParent":true,"mtime":1656000240012},{"name":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/package.json","includedInParent":true,"mtime":1655998719762},{"name":"./helpers","loc":{"line":1,"column":65,"index":65},"parent":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/parseoptions.js","resolved":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/helpers.js"},{"name":"./rrule","loc":{"line":2,"column":52,"index":130},"parent":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/parseoptions.js","resolved":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/rrule.js"},{"name":"./dateutil","loc":{"line":3,"column":21,"index":162},"parent":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/parseoptions.js","resolved":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/dateutil.js"},{"name":"./weekday","loc":{"line":4,"column":24,"index":200},"parent":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/parseoptions.js","resolved":"/home/arma7x/Desktop/New/kaios/greg/node_modules/rrule/dist/esm/weekday.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initializeOptions = initializeOptions;\nexports.parseOptions = parseOptions;\n\nvar _helpers = require(\"./helpers\");\n\nvar _rrule = _interopRequireWildcard(require(\"./rrule\"));\n\nvar _dateutil = _interopRequireDefault(require(\"./dateutil\"));\n\nvar _weekday = require(\"./weekday\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction initializeOptions(options) {\n  var invalid = [];\n  var keys = Object.keys(options);\n  var initializedOptions = {}; // Shallow copy for options and origOptions and check for invalid\n\n  keys.forEach(function (key) {\n    initializedOptions[key] = options[key];\n    if (!(0, _helpers.includes)(_rrule.defaultKeys, key)) invalid.push(key);\n  });\n\n  if (invalid.length) {\n    throw new Error('Invalid options: ' + invalid.join(', '));\n  }\n\n  return initializedOptions;\n}\n\nfunction parseOptions(options) {\n  var opts = initializeOptions(options);\n  var keys = Object.keys(options); // Merge in default options\n\n  _rrule.defaultKeys.forEach(function (key) {\n    if (!(0, _helpers.includes)(keys, key)) opts[key] = _rrule.DEFAULT_OPTIONS[key];\n  });\n\n  if ((0, _helpers.isPresent)(opts.byeaster)) opts.freq = _rrule.default.YEARLY;\n\n  if (!((0, _helpers.isPresent)(opts.freq) && _rrule.default.FREQUENCIES[opts.freq])) {\n    throw new Error(\"Invalid frequency: \" + opts.freq);\n  }\n\n  if (!opts.dtstart) opts.dtstart = new Date(new Date().setMilliseconds(0));\n  var millisecondModulo = opts.dtstart.getTime() % 1000;\n\n  if (!(0, _helpers.isPresent)(opts.wkst)) {\n    opts.wkst = _rrule.default.MO.weekday;\n  } else if ((0, _helpers.isNumber)(opts.wkst)) {// cool, just keep it like that\n  } else {\n    opts.wkst = opts.wkst.weekday;\n  }\n\n  if ((0, _helpers.isPresent)(opts.bysetpos)) {\n    if ((0, _helpers.isNumber)(opts.bysetpos)) opts.bysetpos = [opts.bysetpos];\n\n    for (var i = 0; i < opts.bysetpos.length; i++) {\n      var v = opts.bysetpos[i];\n\n      if (v === 0 || !(v >= -366 && v <= 366)) {\n        throw new Error('bysetpos must be between 1 and 366,' + ' or between -366 and -1');\n      }\n    }\n  }\n\n  if (!(Boolean(opts.byweekno) || (0, _helpers.notEmpty)(opts.byweekno) || (0, _helpers.notEmpty)(opts.byyearday) || Boolean(opts.bymonthday) || (0, _helpers.notEmpty)(opts.bymonthday) || (0, _helpers.isPresent)(opts.byweekday) || (0, _helpers.isPresent)(opts.byeaster))) {\n    switch (opts.freq) {\n      case _rrule.default.YEARLY:\n        if (!opts.bymonth) opts.bymonth = opts.dtstart.getUTCMonth() + 1;\n        opts.bymonthday = opts.dtstart.getUTCDate();\n        break;\n\n      case _rrule.default.MONTHLY:\n        opts.bymonthday = opts.dtstart.getUTCDate();\n        break;\n\n      case _rrule.default.WEEKLY:\n        opts.byweekday = [_dateutil.default.getWeekday(opts.dtstart)];\n        break;\n    }\n  } // bymonth\n\n\n  if ((0, _helpers.isPresent)(opts.bymonth) && !(0, _helpers.isArray)(opts.bymonth)) {\n    opts.bymonth = [opts.bymonth];\n  } // byyearday\n\n\n  if ((0, _helpers.isPresent)(opts.byyearday) && !(0, _helpers.isArray)(opts.byyearday) && (0, _helpers.isNumber)(opts.byyearday)) {\n    opts.byyearday = [opts.byyearday];\n  } // bymonthday\n\n\n  if (!(0, _helpers.isPresent)(opts.bymonthday)) {\n    opts.bymonthday = [];\n    opts.bynmonthday = [];\n  } else if ((0, _helpers.isArray)(opts.bymonthday)) {\n    var bymonthday = [];\n    var bynmonthday = [];\n\n    for (var i = 0; i < opts.bymonthday.length; i++) {\n      var v = opts.bymonthday[i];\n\n      if (v > 0) {\n        bymonthday.push(v);\n      } else if (v < 0) {\n        bynmonthday.push(v);\n      }\n    }\n\n    opts.bymonthday = bymonthday;\n    opts.bynmonthday = bynmonthday;\n  } else if (opts.bymonthday < 0) {\n    opts.bynmonthday = [opts.bymonthday];\n    opts.bymonthday = [];\n  } else {\n    opts.bynmonthday = [];\n    opts.bymonthday = [opts.bymonthday];\n  } // byweekno\n\n\n  if ((0, _helpers.isPresent)(opts.byweekno) && !(0, _helpers.isArray)(opts.byweekno)) {\n    opts.byweekno = [opts.byweekno];\n  } // byweekday / bynweekday\n\n\n  if (!(0, _helpers.isPresent)(opts.byweekday)) {\n    opts.bynweekday = null;\n  } else if ((0, _helpers.isNumber)(opts.byweekday)) {\n    opts.byweekday = [opts.byweekday];\n    opts.bynweekday = null;\n  } else if (opts.byweekday instanceof _weekday.Weekday) {\n    if (!opts.byweekday.n || opts.freq > _rrule.default.MONTHLY) {\n      opts.byweekday = [opts.byweekday.weekday];\n      opts.bynweekday = null;\n    } else {\n      opts.bynweekday = [[opts.byweekday.weekday, opts.byweekday.n]];\n      opts.byweekday = null;\n    }\n  } else {\n    var byweekday = [];\n    var bynweekday = [];\n\n    for (var i = 0; i < opts.byweekday.length; i++) {\n      var wday = opts.byweekday[i];\n\n      if ((0, _helpers.isNumber)(wday)) {\n        byweekday.push(wday);\n        continue;\n      }\n\n      var wd = wday;\n\n      if (!wd.n || opts.freq > _rrule.default.MONTHLY) {\n        byweekday.push(wd.weekday);\n      } else {\n        bynweekday.push([wd.weekday, wd.n]);\n      }\n    }\n\n    opts.byweekday = (0, _helpers.notEmpty)(byweekday) ? byweekday : null;\n    opts.bynweekday = (0, _helpers.notEmpty)(bynweekday) ? bynweekday : null;\n  } // byhour\n\n\n  if (!(0, _helpers.isPresent)(opts.byhour)) {\n    opts.byhour = opts.freq < _rrule.default.HOURLY ? [opts.dtstart.getUTCHours()] : null;\n  } else if ((0, _helpers.isNumber)(opts.byhour)) {\n    opts.byhour = [opts.byhour];\n  } // byminute\n\n\n  if (!(0, _helpers.isPresent)(opts.byminute)) {\n    opts.byminute = opts.freq < _rrule.default.MINUTELY ? [opts.dtstart.getUTCMinutes()] : null;\n  } else if ((0, _helpers.isNumber)(opts.byminute)) {\n    opts.byminute = [opts.byminute];\n  } // bysecond\n\n\n  if (!(0, _helpers.isPresent)(opts.bysecond)) {\n    opts.bysecond = opts.freq < _rrule.default.SECONDLY ? [opts.dtstart.getUTCSeconds()] : null;\n  } else if ((0, _helpers.isNumber)(opts.bysecond)) {\n    opts.bysecond = [opts.bysecond];\n  }\n\n  var timeset;\n\n  if (opts.freq >= _rrule.default.HOURLY) {\n    timeset = null;\n  } else {\n    timeset = [];\n\n    for (var i = 0; i < opts.byhour.length; i++) {\n      var hour = opts.byhour[i];\n\n      for (var j = 0; j < opts.byminute.length; j++) {\n        var minute = opts.byminute[j];\n\n        for (var k = 0; k < opts.bysecond.length; k++) {\n          var second = opts.bysecond[k]; // python:\n          // datetime.time(hour, minute, second,\n          // tzinfo=self._tzinfo))\n\n          timeset.push(new _dateutil.default.Time(hour, minute, second, millisecondModulo));\n        }\n      }\n    }\n\n    _dateutil.default.sort(timeset);\n  }\n\n  return {\n    parsedOptions: opts,\n    timeset: timeset\n  };\n}"},"sourceMaps":null,"error":null,"hash":"c149f6ca82ea8b99f5df98d7b8866f49","cacheData":{"env":{}}}